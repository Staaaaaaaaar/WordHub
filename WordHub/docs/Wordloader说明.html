<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wordloader 说明 - WordHub</title> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.5.1/github-markdown-light.min.css">
    <style>
        .markdown-body {
            box-sizing: border-box;
            min-width: 200px;
            max-width: 980px;
            margin: 0 auto;
            padding: 45px;
        }
        .markdown-body pre { background-color: #f6f8fa; padding: 16px; border-radius: 6px; }
        .back-link { display: inline-block; margin-bottom: 2rem; font-size: 1.1em; text-decoration: none; color: #0969da; }
        .back-link:hover { text-decoration: underline; }
    </style>
</head>
<body>
    <main class="markdown-body">
        <a href="../../index.html" class="back-link">← 返回项目主页</a>
        <h1>Wordloader 类文档</h1>
        <p><strong>负责人</strong>: <a href="https://github.com/stibiums">刘继轩</a></p>
        <h2>一、概述</h2>
        <p><code>Wordloader</code> 类是一个工具类，负责从不同格式的外部文件（如 <code>.txt</code>, <code>.json</code>）中解析单词数据，并将其导入到指定的 <code>WordDatabase</code> 数据库中。它是实现自定义词库功能的关键模块。</p>
        <h2>二、方法</h2>
        <ul>
            <li><code>bool importWordsFromJson(const QString&amp; jsonFilePath, const QString&amp; dbName)</code>: 从一个特定格式的 JSON 文件导入单词。</li>
            <li><code>bool importWordFromTXT(const QString&amp; TXTFilePath, const QString&amp; dbName, ..., bool use_API=false)</code>: 从一个纯文本文件导入单词列表。
                <ul>
                    <li><strong>参数</strong>: <code>use_API</code> 决定是否为每个单词调用网络词典 API 来自动补全详细释义。</li>
                </ul>
            </li>
        </ul>
        <h2>三、私有实现</h2>
        <ul>
            <li><code>QVector&lt;Phonetic&gt; extractPhonetics(const QJsonObject&amp; phoneticsObj)</code>: 从 JSON 对象中解析音标信息。</li>
            <li><code>QMap&lt;QString, QVector&lt;Definition&gt;&gt; extractMeanings(const QJsonObject&amp; wordInfo)</code>: 从 JSON 对象中解析多词性释义。</li>
            <li><code>QStringList extractWords(const QString&amp; text)</code>: 使用正则表达式从文本行中提取出单词本身。</li>
        </ul>
    </main>
</body>
</html>